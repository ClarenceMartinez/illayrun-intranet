"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[615],{6190:(t,e,a)=>{var s=a(538);s.ZP.component("v-buses",a(6456).Z);new s.ZP({el:"#buses-page"})},6456:(t,e,a)=>{a.d(e,{Z:()=>v});function s(t){return s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},s(t)}function i(t,e){var a=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),a.push.apply(a,s)}return a}function o(t){for(var e=1;e<arguments.length;e++){var a=null!=arguments[e]?arguments[e]:{};e%2?i(Object(a),!0).forEach((function(e){r(t,e,a[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(a,e))}))}return t}function r(t,e,a){return(e=function(t){var e=function(t,e){if("object"!==s(t)||null===t)return t;var a=t[Symbol.toPrimitive];if(void 0!==a){var i=a.call(t,e||"default");if("object"!==s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===s(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):t[e]=a,t}function n(t){return function(t){if(Array.isArray(t))return c(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return c(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);"Object"===a&&t.constructor&&(a=t.constructor.name);if("Map"===a||"Set"===a)return Array.from(t);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return c(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,s=new Array(e);a<e;a++)s[a]=t[a];return s}const l={props:["empresas","sucursales","buses","choferes","destinos","caracteristicas_base","usuario"],data:function(){return{frmSearch:{sucursal_destino:0,fecha_envio:"",keyword:""},frmBus:{id:0,empresa_id:0,tuc:"",fecha_emision_tuc:"",fecha_vencimiento_tuc:"",citv:"",ultimo_citv:"",soat:"",fecha_emision_soat:"",fecha_vencimiento_soat:"",tarjeta_propiedad:"",tiv_fisico:"",tiv_electronica:"",fecha_emision_tiv:"",fecha_vencimiento_tiv:"",marca:"",placa:"",carroceria_original:"",categoria:"",pad:"",caracteristicas:[]},detalleTpl:{id:0,cantidad:0,descripcion:"",peso:0,precio:0},trashItems:[],detalle:[],rows:[],loading:!1,saving:!1,asientos:[],selectedBus:null,removedPots:[]}},mounted:function(){var t=this;this.search(),$("#modal-bus-form").on("hidden.bs.modal",(function(e){t.frmBus={id:0,empresa_id:"",tuc:"",fecha_emision_tuc:"",fecha_vencimiento_tuc:"",citv:"",ultimo_citv:"",soat:"",fecha_emision_soat:"",fecha_vencimiento_soat:"",tarjeta_propiedad:"",tiv_fisico:"",tiv_electronica:"",fecha_emision_tiv:"",fecha_vencimiento_tiv:"",marca:"",placa:"",carroceria_original:"",categoria:"",pad:"",caracteristicas:[]}}))},computed:{gravada:function(){return(this.total-this.igv).toFixed(2)},igv:function(){return(.18*this.total).toFixed(2)},total:function(){return this.detalle.reduce((function(t,e){return t+Number(e.precio)}),0).toFixed(2)}},methods:{handleChange:function(t){this.estructurar(n(this.asientos))},addItem:function(t){this.detalle.splice(t+1,0,o({},this.detalleTpl))},removeItem:function(t){var e=this.detalle[t];e.id>0&&this.trashItems.push(e),this.detalle.splice(t,1)},addAsiento:function(t){this.asientos.splice(t+1,0,{id:0,fila:0,columna:0,piso:1,numero:99,estado:1})},removeAsiento:function(t){var e;(null===(e=this.asientos[t])||void 0===e?void 0:e.id)>0&&this.removedPots.push(this.asientos[t].id),this.asientos.splice(t,1)},search:function(){var t=this;this.loading=!0,axios.get("/buses/filter",{params:this.frmSearch}).then((function(e){t.rows=e.data.LISTA.map((function(e){var a=e.caracteristicas,s=t.caracteristicas_base.map((function(t){return{id:t.id,nombre:t.nombre_caracteristica,checked:void 0!==a.find((function(e){return e.id_caracteristicas_base==t.id}))}}));return e.caracteristicas=s,e}))})).finally((function(){t.loading=!1}))},openAsientoModal:function(t){t.asientos.length<1&&t.asientos.push({id:0,fila:0,columna:0,piso:0,numero:1}),this.selectedBus=o({},t),this.asientos=n(t.asientos),$("#modal-asiento-form").modal("show")},openCreateModal:function(){this.frmBus.caracteristicas=this.caracteristicas_base.map((function(t){return{id:t.id,nombre:t.nombre_caracteristica,checked:!1}})),$("#modal-bus-form").modal("show")},openDeleteModal:function(t){var e=this;swal({title:"¿Estás seguro?",text:"¿Deseas "+(1==t.estado?"eliminar":"activar")+" este bus?",icon:"warning",buttons:["No","Sí"],dangerMode:!0}).then((function(a){a&&axios.delete("/bus/"+t.id).then((function(t){t.status&&(toastr.success(t.data.message),e.search())}))}))},openEditModal:function(t){this.frmBus={id:t.id,empresa_id:t.empresa_id,tuc:t.tuc,fecha_emision_tuc:t.fecha_emision_tuc,fecha_vencimiento_tuc:t.fecha_vencimiento_tuc,citv:t.citv,ultimo_citv:t.ultimo_citv,soat:t.soat,fecha_emision_soat:t.fecha_emision_soat,fecha_vencimiento_soat:t.fecha_vencimiento_soat,tarjeta_propiedad:t.tarjeta_propiedad,tiv_fisico:t.tiv_fisico,tiv_electronica:t.tiv_electronica,fecha_emision_tiv:t.fecha_emision_tiv,fecha_vencimiento_tiv:t.fecha_vencimiento_tiv,marca:t.marca,placa:t.placa,carroceria_original:t.carroceria_original,categoria:t.categoria,pad:t.pad,caracteristicas:t.caracteristicas},$("#modal-bus-form").modal("show")},save:function(){var t=this;this.saving=!0;var e=o({},this.frmBus);e.caracteristicas=e.caracteristicas.filter((function(t){return t.checked})),(this.frmBus.id>0?axios.put("/bus/"+this.frmBus.id,e):axios.post("/buses",e)).then((function(e){e.data.status?(toastr.success(e.data.message),$("#modal-bus-form").modal("hide")):toastr.error(e.data.message),t.search(),t.saving=!1}),(function(e){t.saving=!1}))},saveAsientos:function(){var t=this;axios.post("/bus/"+this.selectedBus.id+"/asientos",{asientos:this.asientos,removedPots:this.removedPots}).then((function(e){e.data.status?(t.removedPots=[],toastr.success(e.data.message),t.search()):toastr.error(e.data.message)}))}}};const v=(0,a(1900).Z)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"content-wrapper"},[e("div",{staticClass:"card shadow"},[e("div",{staticClass:"card-header d-flex align-items-center justify-content-between"},[e("h5",{staticClass:"card-title float-start mb-0"},[t._v("BUSES")]),t._v(" "),e("div",{staticClass:"float-end"},[e("button",{staticClass:"text-white btn btn-success btn-sm",on:{click:function(e){return t.openCreateModal()}}},[e("i",{staticClass:"ti-plus me-1"}),t._v(" BUS")])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"table-responsive bg-white"},[e("table",{staticClass:"table table-hover table-sm",attrs:{id:"order-listing"}},[t._m(0),t._v(" "),e("tbody",[t.loading?e("tr",[t._m(1)]):t._e(),t._v(" "),!t.loading&&t.rows.length<1?e("tr",[t._m(2)]):t._e(),t._v(" "),!t.loading&&t.rows.length>0?t._l(t.rows,(function(a,s){return e("tr",{key:s},[e("td",[t._v(t._s(s+1))]),t._v(" "),e("td",[t._v(t._s(a.empresa_id))]),t._v(" "),e("td",[t._v(t._s(a.usuario))]),t._v(" "),e("td",[t._v(t._s(a.tuc))]),t._v(" "),e("td",[t._v(t._s(a.fecha_emision_tuc))]),t._v(" "),e("td",[t._v(t._s(a.fecha_vencimiento_tuc))]),t._v(" "),e("td",[t._v(t._s(a.citv))]),t._v(" "),e("td",[t._v(t._s(a.ultimo_citv))]),t._v(" "),e("td",[t._v(t._s(a.soat))]),t._v(" "),e("td",[t._v(t._s(a.fecha_emision_soat))]),t._v(" "),e("td",[t._v(t._s(a.fecha_vencimiento_soat))]),t._v(" "),e("td",[t._v(t._s(a.tarjeta_propiedad))]),t._v(" "),e("td",[t._v(t._s(a.tiv_fisico))]),t._v(" "),e("td",[t._v(t._s(a.tiv_electronica))]),t._v(" "),e("td",[t._v(t._s(a.fecha_emision_tiv))]),t._v(" "),e("td",[t._v(t._s(a.fecha_vencimiento_tiv))]),t._v(" "),e("td",[t._v(t._s(a.marca))]),t._v(" "),e("td",[t._v(t._s(a.placa))]),t._v(" "),e("td",[t._v(t._s(a.carroceria_original))]),t._v(" "),e("td",[t._v(t._s(a.categoria))]),t._v(" "),e("td",[t._v(t._s(a.created_at))]),t._v(" "),e("td",[t._v(t._s(a.updated_at))]),t._v(" "),e("td",{staticClass:"text-center"},[a.estado?e("button",{staticClass:"btn btn-outline-success btn-sm align-middle text-center"},[t._v("Activo")]):t._e(),t._v(" "),a.estado?t._e():e("button",{staticClass:"btn btn-outline-danger btn-sm align-middle text-center"},[t._v("Inactivo")])]),t._v(" "),e("td",[1==a.estado?e("a",{staticClass:"label text-primary me-1",staticStyle:{"text-decoration":"none"},attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.openEditModal(a)}}},[e("i",{staticClass:"ti-pencil"})]):t._e(),t._v(" "),1==a.estado?e("a",{staticClass:"label text-danger me-1",staticStyle:{"text-decoration":"none"},attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.openDeleteModal(a)}}},[e("i",{staticClass:"ti-close"})]):t._e(),t._v(" "),1==a.estado?e("a",{staticClass:"label text-success me-1",staticStyle:{"text-decoration":"none"},attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.openAsientoModal(a)}}},[e("i",{staticClass:"ti-user"})]):t._e()])])})):t._e()],2)])])])])]),t._v(" "),e("div",{staticClass:"modal fade",attrs:{id:"modal-bus-form",tabindex:"-1",role:"dialog","aria-labelledby":"busModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.save()}}},[e("input",{attrs:{type:"hidden",name:"usuario"},domProps:{value:t.usuario}}),t._v(" "),t._m(3),t._v(" "),e("div",{staticClass:"modal-body py-2"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-3"},[e("label",{staticClass:"col-form-label",attrs:{for:"input-empresa_id"}},[t._v("EMPRESA:")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.frmBus.empresa_id,expression:"frmBus.empresa_id"}],staticClass:"form-control form-control-sm resetable",attrs:{id:"input-empresa_id",name:"empresa_id"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.frmBus,"empresa_id",e.target.multiple?a:a[0])}}},[e("option",{domProps:{value:0}},[t._v("Seleccionar →")]),t._v(" "),t._l(t.empresas,(function(a,s){return e("option",{key:"emp_"+s,domProps:{value:a.id}},[t._v(t._s(a.nombre_comercial))])}))],2)]),t._v(" "),e("div",{staticClass:"col-lg-3"},[e("label",{staticClass:"col-form-label",attrs:{for:"input-carroceria_original"}},[t._v("CARROCERIA ORIGINAL:")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.frmBus.carroceria_original,expression:"frmBus.carroceria_original"}],staticClass:"form-control form-control-sm resetable",attrs:{id:"input-carroceria_original",name:"carroceria_original"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.frmBus,"carroceria_original",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:""}},[t._v("Seleccionar →")]),t._v(" "),e("option",{attrs:{value:"yes"}},[t._v("si")]),t._v(" "),e("option",{attrs:{value:"no"}},[t._v("no")])])]),t._v(" "),e("div",{staticClass:"col-lg-3"},[e("label",{staticClass:"col-form-label",attrs:{for:"input-categoria"}},[t._v("CATEGORIA:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.frmBus.categoria,expression:"frmBus.categoria"}],staticClass:"form-control form-control-sm resetable",attrs:{type:"text",id:"input-categoria",name:"categoria"},domProps:{value:t.frmBus.categoria},on:{input:function(e){e.target.composing||t.$set(t.frmBus,"categoria",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-lg-3"},[e("label",{staticClass:"col-form-label",attrs:{for:"input-tuc"}},[t._v("TARJETA UNICA DE CIRCULACION VEHICULAR (TUC):")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.frmBus.tuc,expression:"frmBus.tuc"}],staticClass:"form-control form-control-sm resetable",attrs:{id:"input-tuc",name:"tuc"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.frmBus,"tuc",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:""}},[t._v("Seleccionar →")]),t._v(" "),e("option",{attrs:{value:"yes"}},[t._v("si")]),t._v(" "),e("option",{attrs:{value:"no"}},[t._v("no")])])]),t._v(" "),e("div",{staticClass:"col-lg-3"},[e("label",{staticClass:"col-form-label",attrs:{for:"input-citv"}},[t._v("CENTRO DE INSPECCION TECNICA VEHICULAR (CITV):")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.frmBus.citv,expression:"frmBus.citv"}],staticClass:"form-control form-control-sm resetable",attrs:{id:"input-citv",name:"citv"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.frmBus,"citv",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:""}},[t._v("Seleccionar →")]),t._v(" "),e("option",{attrs:{value:"yes"}},[t._v("si")]),t._v(" "),e("option",{attrs:{value:"no"}},[t._v("no")])])]),t._v(" "),e("div",{staticClass:"col-lg-3"},[e("label",{staticClass:"col-form-label",attrs:{for:"input-fecha_vencimiento_tuc"}},[t._v("FECHA VENCIMIENTO (TUC):")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.frmBus.fecha_vencimiento_tuc,expression:"frmBus.fecha_vencimiento_tuc"}],staticClass:"form-control form-control-sm resetable",attrs:{type:"date",id:"input-fecha_vencimiento_tuc",name:"fecha_vencimiento_tuc"},domProps:{value:t.frmBus.fecha_vencimiento_tuc},on:{input:function(e){e.target.composing||t.$set(t.frmBus,"fecha_vencimiento_tuc",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-lg-3"},[e("label",{staticClass:"col-form-label",attrs:{for:"input-fecha_emision_tuc"}},[t._v("FECHA EMISION (TUC):")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.frmBus.fecha_emision_tuc,expression:"frmBus.fecha_emision_tuc"}],staticClass:"form-control form-control-sm resetable",attrs:{type:"date",id:"input-fecha_emision_tuc",name:"fecha_emision_tuc"},domProps:{value:t.frmBus.fecha_emision_tuc},on:{input:function(e){e.target.composing||t.$set(t.frmBus,"fecha_emision_tuc",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-lg-3"},[e("label",{staticClass:"col-form-label",attrs:{for:"input-soat"}},[t._v("SOAT:")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.frmBus.soat,expression:"frmBus.soat"}],staticClass:"form-control form-control-sm resetable",attrs:{id:"input-soat",name:"soat"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.frmBus,"soat",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:""}},[t._v("Seleccionar →")]),t._v(" "),e("option",{attrs:{value:"yes"}},[t._v("si")]),t._v(" "),e("option",{attrs:{value:"no"}},[t._v("no")])])]),t._v(" "),e("div",{staticClass:"col-lg-3"},[e("label",{staticClass:"col-form-label",attrs:{for:"input-ultimo_citv"}},[t._v("FECHA ULTIMA (CITV):")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.frmBus.ultimo_citv,expression:"frmBus.ultimo_citv"}],staticClass:"form-control form-control-sm resetable",attrs:{type:"date",id:"input-ultimo_citv",name:"ultimo_citv"},domProps:{value:t.frmBus.ultimo_citv},on:{input:function(e){e.target.composing||t.$set(t.frmBus,"ultimo_citv",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-lg-3"},[e("label",{staticClass:"col-form-label",attrs:{for:"input-fecha_vencimiento_soat"}},[t._v("FECHA VENCIMIENTO SOAT:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.frmBus.fecha_vencimiento_soat,expression:"frmBus.fecha_vencimiento_soat"}],staticClass:"form-control form-control-sm resetable",attrs:{type:"date",id:"input-fecha_vencimiento_soat",name:"fecha_vencimiento_soat"},domProps:{value:t.frmBus.fecha_vencimiento_soat},on:{input:function(e){e.target.composing||t.$set(t.frmBus,"fecha_vencimiento_soat",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-lg-3"},[e("label",{staticClass:"col-form-label",attrs:{for:"input-tarjeta_propiedad"}},[t._v("TARJETA DE PROPIEDAD:")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.frmBus.tarjeta_propiedad,expression:"frmBus.tarjeta_propiedad"}],staticClass:"form-control form-control-sm resetable",attrs:{id:"input-tarjeta_propiedad",name:"tarjeta_propiedad"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.frmBus,"tarjeta_propiedad",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:""}},[t._v("Seleccionar →")]),t._v(" "),e("option",{attrs:{value:"yes"}},[t._v("si")]),t._v(" "),e("option",{attrs:{value:"no"}},[t._v("no")])])]),t._v(" "),e("div",{staticClass:"col-lg-3"},[e("label",{staticClass:"col-form-label",attrs:{for:"input-tiv_electronica"}},[t._v("TARJETA DE IDENTIFICACION VEHICULAR ELECTRONICA (TIVe):")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.frmBus.tiv_electronica,expression:"frmBus.tiv_electronica"}],staticClass:"form-control form-control-sm resetable",attrs:{id:"input-tiv_electronica",name:"tiv_electronica"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.frmBus,"tiv_electronica",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:""}},[t._v("Seleccionar →")]),t._v(" "),e("option",{attrs:{value:"yes"}},[t._v("si")]),t._v(" "),e("option",{attrs:{value:"no"}},[t._v("no")])])]),t._v(" "),e("div",{staticClass:"col-lg-3"},[e("label",{staticClass:"col-form-label",attrs:{for:"input-tiv_fisico"}},[t._v("TARJETA DE IDENTIFICACION VEHICULAR FISICA (TIV):")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.frmBus.tiv_fisico,expression:"frmBus.tiv_fisico"}],staticClass:"form-control form-control-sm resetable",attrs:{id:"input-tiv_fisico",name:"tiv_fisico"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.frmBus,"tiv_fisico",e.target.multiple?a:a[0])}}},[e("option",{attrs:{value:""}},[t._v("Seleccionar →")]),t._v(" "),e("option",{attrs:{value:"yes"}},[t._v("si")]),t._v(" "),e("option",{attrs:{value:"no"}},[t._v("no")])])]),t._v(" "),e("div",{staticClass:"col-lg-3"},[e("label",{staticClass:"col-form-label",attrs:{for:"input-fecha_emision_tiv"}},[t._v("FECHA EMISION (TIVe):")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.frmBus.fecha_emision_tiv,expression:"frmBus.fecha_emision_tiv"}],staticClass:"form-control form-control-sm resetable",attrs:{type:"date",id:"input-fecha_emision_tiv",name:"fecha_emision_tiv"},domProps:{value:t.frmBus.fecha_emision_tiv},on:{input:function(e){e.target.composing||t.$set(t.frmBus,"fecha_emision_tiv",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-lg-3"},[e("label",{staticClass:"col-form-label",attrs:{for:"input-fecha_vencimiento_tiv"}},[t._v("FECHA VENCIMIENTO (TIV):")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.frmBus.fecha_vencimiento_tiv,expression:"frmBus.fecha_vencimiento_tiv"}],staticClass:"form-control form-control-sm resetable",attrs:{type:"date",id:"input-fecha_vencimiento_tiv",name:"fecha_vencimiento_tiv"},domProps:{value:t.frmBus.fecha_vencimiento_tiv},on:{input:function(e){e.target.composing||t.$set(t.frmBus,"fecha_vencimiento_tiv",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-lg-3"},[e("label",{staticClass:"col-form-label",attrs:{for:"input-marca"}},[t._v("MARCA:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.frmBus.marca,expression:"frmBus.marca"}],staticClass:"form-control form-control-sm resetable",attrs:{type:"text",id:"input-marca",name:"marca"},domProps:{value:t.frmBus.marca},on:{input:function(e){e.target.composing||t.$set(t.frmBus,"marca",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-lg-3"},[e("label",{staticClass:"col-form-label",attrs:{for:"input-placa"}},[t._v("PLACA:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.frmBus.placa,expression:"frmBus.placa"}],staticClass:"form-control form-control-sm resetable",attrs:{type:"text",id:"input-placa",name:"placa"},domProps:{value:t.frmBus.placa},on:{input:function(e){e.target.composing||t.$set(t.frmBus,"placa",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-lg-3"},[e("label",{staticClass:"col-form-label",attrs:{for:"input-pad"}},[t._v("PAD:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.frmBus.pad,expression:"frmBus.pad"}],staticClass:"form-control form-control-sm resetable",attrs:{type:"text",id:"input-pad",name:"pad"},domProps:{value:t.frmBus.pad},on:{input:function(e){e.target.composing||t.$set(t.frmBus,"pad",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-lg-3"},[e("label",{staticClass:"col-form-label",attrs:{for:"input-fecha_emision_soat"}},[t._v("FECHA EMISION SOAT:")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.frmBus.fecha_emision_soat,expression:"frmBus.fecha_emision_soat"}],staticClass:"form-control form-control-sm resetable",attrs:{type:"date",id:"input-fecha_emision_soat",name:"fecha_emision_soat"},domProps:{value:t.frmBus.fecha_emision_soat},on:{input:function(e){e.target.composing||t.$set(t.frmBus,"fecha_emision_soat",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-12 mt-3"},[e("label",{attrs:{for:""}},[t._v("Caracteristicas")]),t._v(" "),e("div",t._l(t.frmBus.caracteristicas,(function(a){return e("div",{key:"carac_"+a.id,staticClass:"form-check form-check-inline"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.checked,expression:"c.checked"}],staticClass:"form-check-input",attrs:{type:"checkbox",id:"carac_"+a.id},domProps:{checked:Array.isArray(a.checked)?t._i(a.checked,null)>-1:a.checked},on:{change:function(e){var s=a.checked,i=e.target,o=!!i.checked;if(Array.isArray(s)){var r=t._i(s,null);i.checked?r<0&&t.$set(a,"checked",s.concat([null])):r>-1&&t.$set(a,"checked",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(a,"checked",o)}}}),t._v(" "),e("label",{staticClass:"form-check-label",attrs:{for:"carac_"+a.id}},[t._v(t._s(a.nombre))])])})),0)])])]),t._v(" "),t._m(4)])])])]),t._v(" "),e("div",{staticClass:"modal fade",attrs:{id:"modal-asiento-form",tabindex:"-1",role:"dialog","aria-labelledby":"asientoModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.saveAsientos()}}},[t._m(5),t._v(" "),e("div",{staticClass:"modal-body py-2"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-4"},[e("v-bus",{attrs:{asientos:t.asientos}})],1),t._v(" "),e("div",{staticClass:"col-lg-8"},[e("table",{staticClass:"table"},[t._m(6),t._v(" "),e("tbody",t._l(t.asientos,(function(a,s){return e("tr",{key:"asiento_"+s},[e("td",{staticClass:"py-1",staticStyle:{width:"16.66%"}},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.numero,expression:"a.numero"}],staticClass:"form-control form-control-sm",attrs:{type:"number"},domProps:{value:a.numero},on:{input:function(e){e.target.composing||t.$set(a,"numero",e.target.value)}}})]),t._v(" "),e("td",{staticClass:"py-1",staticStyle:{width:"16.66%"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:a.fila,expression:"a.fila"}],staticClass:"form-control form-control-sm",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(a,"fila",e.target.multiple?s:s[0])}}},t._l(13,(function(a){return e("option",{domProps:{value:a-1}},[t._v("Fila "+t._s(a))])})),0)]),t._v(" "),e("td",{staticClass:"py-1",staticStyle:{width:"16.66%"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:a.columna,expression:"a.columna"}],staticClass:"form-control form-control-sm",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(a,"columna",e.target.multiple?s:s[0])}}},[e("option",{domProps:{value:0}},[t._v("Columna 1")]),t._v(" "),e("option",{domProps:{value:1}},[t._v("Columna 2")]),t._v(" "),e("option",{domProps:{value:3}},[t._v("Columna 4")]),t._v(" "),e("option",{domProps:{value:4}},[t._v("Columna 5")])])]),t._v(" "),e("td",{staticClass:"py-1",staticStyle:{width:"16.66%"}},[e("select",{directives:[{name:"model",rawName:"v-model",value:a.piso,expression:"a.piso"}],staticClass:"form-control form-control-sm",on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(a,"piso",e.target.multiple?s:s[0])}}},[e("option",{domProps:{value:0}},[t._v("Piso 1")]),t._v(" "),e("option",{domProps:{value:1}},[t._v("Piso 2")])])]),t._v(" "),e("td",{staticClass:"py-1 text-center"},[e("div",{staticClass:"form-check form-switch"},[e("input",{directives:[{name:"model",rawName:"v-model",value:a.estado,expression:"a.estado"}],staticClass:"form-check-input",attrs:{type:"checkbox",role:"switch",id:"astatus_"+s,"true-value":"1","false-value":"0"},domProps:{checked:Array.isArray(a.estado)?t._i(a.estado,null)>-1:t._q(a.estado,"1")},on:{change:function(e){var s=a.estado,i=e.target,o=i.checked?"1":"0";if(Array.isArray(s)){var r=t._i(s,null);i.checked?r<0&&t.$set(a,"estado",s.concat([null])):r>-1&&t.$set(a,"estado",s.slice(0,r).concat(s.slice(r+1)))}else t.$set(a,"estado",o)}}}),t._v(" "),e("label",{staticClass:"form-check-label",attrs:{for:"astatus_"+s}},[t._v(" ")])])]),t._v(" "),e("td",{staticClass:"py-1"},[e("div",{staticClass:"btn-group",attrs:{role:"group","aria-label":"Basic example"}},[e("button",{staticClass:"btn btn-success btn-sm text-white",attrs:{type:"button"},on:{click:function(e){return t.addAsiento(s)}}},[e("i",{staticClass:"ti-plus"})]),t._v(" "),e("button",{staticClass:"btn btn-danger btn-sm text-white",attrs:{type:"button"},on:{click:function(e){return t.removeAsiento(s)}}},[e("i",{staticClass:"ti-trash"})])])])])})),0)])])])]),t._v(" "),t._m(7)])])])]),t._v(" "),e("div",{staticStyle:{display:"none"}},[t._v("Build By KbaylonH")])])}),[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{staticClass:"text-center align-middle"},[t._v("#")]),t._v(" "),e("th",{staticClass:"text-center align-middle"},[t._v("EMPRESA")]),t._v(" "),e("th",{staticClass:"text-center align-middle"},[t._v("USUARIO")]),t._v(" "),e("th",{staticClass:"text-center align-middle"},[t._v("TARJETA UNICA DE "),e("br"),t._v("CIRCULACION VEHICULAR"),e("br"),t._v("(TUC)")]),t._v(" "),e("th",{staticClass:"text-center align-middle"},[t._v("FECHA EMISION "),e("br"),t._v(" (TUC)")]),t._v(" "),e("th",{staticClass:"text-center align-middle"},[t._v("FECHA VENCIMIENTO   "),e("br"),t._v("(TUC)")]),t._v(" "),e("th",{staticClass:"text-center align-middle"},[t._v("CENTRO DE INSPECCION"),e("br"),t._v(" TECNICA VEHICULAR  "),e("br"),t._v("(CITV)")]),t._v(" "),e("th",{staticClass:"text-center align-middle"},[t._v("FECHA ULTIMA  "),e("br"),t._v("(CITV)")]),t._v(" "),e("th",{staticClass:"text-center align-middle"},[t._v("SOAT")]),t._v(" "),e("th",{staticClass:"text-center align-middle"},[t._v("FECHA EMISION "),e("br"),t._v("SOAT")]),t._v(" "),e("th",{staticClass:"text-center align-middle"},[t._v("FECHA VENCIMIENTO   "),e("br"),t._v("SOAT")]),t._v(" "),e("th",{staticClass:"text-center align-middle"},[t._v("TARJETA DE PROPIEDAD")]),t._v(" "),e("th",{staticClass:"text-center align-middle"},[t._v("TARJETA DE IDENTIFICACION  "),e("br"),t._v(" VEHICULAR ELECTRONICA  "),e("br"),t._v(" (TIVe)")]),t._v(" "),e("th",{staticClass:"text-center align-middle"},[t._v("TARJETA DE IDENTIFICACION  "),e("br"),t._v(" VEHICULAR FISICA  "),e("br"),t._v(" (TIV)")]),t._v(" "),e("th",{staticClass:"text-center align-middle"},[t._v("FECHA EMISION "),e("br"),t._v("(TIVe)")]),t._v(" "),e("th",{staticClass:"text-center align-middle"},[t._v("FECHA VENCIMIENTO   "),e("br"),t._v("(TIV)")]),t._v(" "),e("th",{staticClass:"text-center align-middle"},[t._v("MARCA")]),t._v(" "),e("th",{staticClass:"text-center align-middle"},[t._v("PLACA")]),t._v(" "),e("th",{staticClass:"text-center align-middle"},[t._v("CARROCERIA ORIGINAL")]),t._v(" "),e("th",{staticClass:"text-center align-middle"},[t._v("CATEGORIA")]),t._v(" "),e("th",{staticClass:"text-center align-middle"},[t._v("FECHA CREACION")]),t._v(" "),e("th",{staticClass:"text-center align-middle"},[t._v("FECHA ACTUALIZACION")]),t._v(" "),e("th",{staticClass:"text-center align-middle"},[t._v("ESTADO")]),t._v(" "),e("th",{staticClass:"text-center align-middle"},[t._v("ACCIONES")])])])},function(){var t=this._self._c;return t("td",{staticClass:"text-center",attrs:{colspan:"10"}},[t("i",{staticClass:"fa fa-circle-o-notch fa-spin me-1"}),this._v(" Cargando información")])},function(){var t=this._self._c;return t("td",{staticClass:"text-center",attrs:{colspan:"10"}},[t("i",{staticClass:"fa fa-exclamation-circle me-1"}),this._v("No se registraron buses")])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal-header p-3"},[e("h5",{staticClass:"modal-title",attrs:{id:"busModalLabel"}},[t._v("Registrar Bus")]),t._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal-footer p-3"},[e("button",{staticClass:"btn btn-success btn-sm",attrs:{type:"submit",id:"registrarBus"}},[t._v("Registrar Bus")]),t._v(" "),e("button",{staticClass:"btn btn-light btn-sm",attrs:{type:"button","data-bs-dismiss":"modal"}},[t._v("Cancelar")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal-header p-3"},[e("h5",{staticClass:"modal-title",attrs:{id:"asientoModalLabel"}},[t._v("Registrar Asientos")]),t._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("Número")]),t._v(" "),e("th",[t._v("Fila")]),t._v(" "),e("th",[t._v("Columna")]),t._v(" "),e("th",[t._v("Piso")]),t._v(" "),e("th",[t._v("Estado")]),t._v(" "),e("th",[t._v(" ")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal-footer p-3"},[e("button",{staticClass:"btn btn-success btn-sm",attrs:{type:"submit",id:"registrarBus"}},[t._v("Registrar Asientos")]),t._v(" "),e("button",{staticClass:"btn btn-light btn-sm",attrs:{type:"button","data-bs-dismiss":"modal"}},[t._v("Cancelar")])])}],!1,null,null,null).exports},1900:(t,e,a)=>{function s(t,e,a,s,i,o,r,n){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=a,l._compiled=!0),s&&(l.functional=!0),o&&(l._scopeId="data-v-"+o),r?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),i&&i.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},l._ssrRegister=c):i&&(c=n?function(){i.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:i),c)if(l.functional){l._injectStyles=c;var v=l.render;l.render=function(t,e){return c.call(e),v(t,e)}}else{var u=l.beforeCreate;l.beforeCreate=u?[].concat(u,c):[c]}return{exports:t,options:l}}a.d(e,{Z:()=>s})}},t=>{t.O(0,[598],(()=>{return e=6190,t(t.s=e);var e}));t.O()}]);