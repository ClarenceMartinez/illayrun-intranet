"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[618],{1661:(t,e,o)=>{var a=o(538);a.ZP.component("v-encomiendas",o(8996).Z);new a.ZP({el:"#encomiendas-page"})},8996:(t,e,o)=>{o.d(e,{Z:()=>m});function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function n(t){return function(t){if(Array.isArray(t))return r(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(!t)return;if("string"==typeof t)return r(t,e);var o=Object.prototype.toString.call(t).slice(8,-1);"Object"===o&&t.constructor&&(o=t.constructor.name);if("Map"===o||"Set"===o)return Array.from(t);if("Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return r(t,e)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var o=0,a=new Array(e);o<e;o++)a[o]=t[o];return a}function i(t,e){var o=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),o.push.apply(o,a)}return o}function s(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?i(Object(o),!0).forEach((function(e){c(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):i(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function c(t,e,o){return(e=function(t){var e=function(t,e){if("object"!==a(t)||null===t)return t;var o=t[Symbol.toPrimitive];if(void 0!==o){var n=o.call(t,e||"default");if("object"!==a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)}(t,"string");return"symbol"===a(e)?e:String(e)}(e))in t?Object.defineProperty(t,e,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[e]=o,t}const l={props:["sucursales","tipodocumentos","usuario"],data:function(){return{frmSearch:{sucursal_destino:0,fecha_envio:dayjs().format("YYYY-MM-DD"),keyword:""},frmEncomienda:{id:0,remitente_tipo_documento:1,remitente_numero_documento:"",remitente_nombres:"",remitente_paternos:"",remitente_maternos:"",remitente_celular:"",consignado_tipo_documento:1,consignado_numero_documento:"",consignado_nombres:"",consignado_paternos:"",consignado_maternos:"",consignado_celular:"",sucursal_destino:0,itinerario_id:0,contrasenia:"",fecha_envio:dayjs().format("YYYY-MM-DD"),forma_pago:"efectivo",comprobante:"BOLETA",correlativo:"B001-0000001"},detalleTpl:{id:0,cantidad:0,descripcion:"",peso:0,precio:0},trashItems:[],detalle:[],rows:[],itinerarios:[],loading:!1,saving:!1}},mounted:function(){var t=this;this.search(),$("#modal-encomienda-form").on("hidden.bs.modal",(function(e){t.frmEncomienda={id:0,remitente_tipo_documento:1,remitente_numero_documento:"",remitente_nombres:"",remitente_paternos:"",remitente_maternos:"",remitente_celular:"",consignado_tipo_documento:1,consignado_numero_documento:"",consignado_nombres:"",consignado_paternos:"",consignado_maternos:"",consignado_celular:"",sucursal_destino:0,itinerario_id:0,contrasenia:"",fecha_envio:dayjs().format("YYYY-MM-DD"),forma_pago:"efectivo",comprobante:"BOLETA",correlativo:""}}))},computed:{gravada:function(){return(this.total-this.igv).toFixed(2)},igv:function(){return(.18*this.total).toFixed(2)},total:function(){return this.detalle.reduce((function(t,e){return t+Number(e.precio)}),0).toFixed(2)}},filters:{dateFormat:function(t,e){return dayjs(t).format(e)}},methods:{addItem:function(t){this.detalle.splice(t+1,0,s({},this.detalleTpl))},removeItem:function(t){var e=this.detalle[t];e.id>0&&this.trashItems.push(e),this.detalle.splice(t,1)},search:function(){var t=this;this.loading=!0,axios.get("/encomiendas/filter",{params:this.frmSearch}).then((function(e){e.data.status?t.rows=e.data.data:toastr.error(e.data.message)})).finally((function(){t.loading=!1}))},obtenerItinerarios:function(){var t=this;this.frmEncomienda.sucursal_destino>0&&""!==this.frmEncomienda.fecha_envio&&axios.get("/itinerarios/filter",{params:{empresa_id:this.usuario.empresa,sucursal_partida:this.usuario.codsucursal,sucursal_destino:this.frmEncomienda.sucursal_destino,desde:this.frmEncomienda.fecha_envio}}).then((function(e){t.itinerarios=e.data.LISTA}))},openCreateModal:function(){this.detalle=[s({},this.detalleTpl)],$("#modal-encomienda-form").modal("show")},openDeleteModal:function(t){var e=this;swal({title:"¿Estás seguro?",text:"¿Deseas "+(1==t.estado?"eliminar":"activar")+" esta encomienda?",icon:"warning",buttons:["No","Sí"],dangerMode:!0}).then((function(o){o&&axios.delete("/encomienda/"+t.id).then((function(t){t.status&&(toastr.success(t.data.message),e.search())}))}))},openEditModal:function(t){this.frmEncomienda={id:t.id,remitente_tipo_documento:t.remitente_tipo_documento,remitente_numero_documento:t.remitente_numero_documento,remitente_nombres:t.remitente_nombres,remitente_paternos:t.remitente_paternos,remitente_maternos:t.remitente_maternos,remitente_celular:t.remitente_celular,consignado_tipo_documento:t.consignado_tipo_documento,consignado_numero_documento:t.consignado_numero_documento,consignado_nombres:t.consignado_nombres,consignado_paternos:t.consignado_paternos,consignado_maternos:t.consignado_maternos,consignado_celular:t.consignado_celular,sucursal_destino:t.sucursal_destino,itinerario_id:t.itinerario_id,contrasenia:t.contrasenia,fecha_envio:t.fecha_envio,forma_pago:t.forma_pago,comprobante:t.comprobante,correlativo:t.correlativo},this.detalle=n(t.detalle),$("#modal-encomienda-form").modal("show")},save:function(){var t=this;this.saving=!0;var e=s({},this.frmEncomienda);e.empresa_id=this.usuario.empresa,e.sucursal_id=this.usuario.codsucursal,e.detalle=n(this.detalle),e.trashItems=n(this.trashItems.map((function(t){return t.id}))),(this.frmEncomienda.id>0?axios.put("/encomienda/"+this.frmEncomienda.id,e):axios.post("/encomiendas",e)).then((function(e){e.data.status?(toastr.success(e.data.message),$("#modal-encomienda-form").modal("hide")):toastr.error(e.data.message),t.search(),t.saving=!1}),(function(e){t.saving=!1}))},getPersonaData:function(t){var e=this;1==this.frmEncomienda[t+"_tipo_documento"]&&axios.post("/reniec/consulta?numero="+this.frmEncomienda[t+"_numero_documento"]).then((function(o){o.data.status&&(e.frmEncomienda[t+"_nombres"]=o.data.data.nombres,e.frmEncomienda[t+"_paternos"]=o.data.data.apellidoPaterno,e.frmEncomienda[t+"_maternos"]=o.data.data.apellidoMaterno)}))}}};const m=(0,o(1900).Z)(l,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"content-wrapper"},[e("div",{staticClass:"card shadow"},[e("div",{staticClass:"card-body"},[e("h3",{staticClass:"card-title"},[t._v("Encomiendas")]),t._v(" "),e("hr"),t._v(" "),e("div",{staticClass:"row row-cols-lg-auto g-3 align-items-end"},[e("div",{staticClass:"col-12"},[e("label",{attrs:{for:""}},[t._v("Punto de venta Destino")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.frmSearch.sucursal_destino,expression:"frmSearch.sucursal_destino"}],staticClass:"form-control form-control-sm",on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.frmSearch,"sucursal_destino",e.target.multiple?o:o[0])}}},[e("option",{attrs:{value:"0"}},[t._v("SELECCIONE")]),t._v(" "),t._l(t.sucursales,(function(o){return e("option",{key:"suc_"+o.id,domProps:{value:o.id}},[t._v(t._s(o.nombre_comercial))])}))],2)]),t._v(" "),e("div",{staticClass:"col-12"},[e("label",{attrs:{for:""}},[t._v("Fecha")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.frmSearch.fecha_envio,expression:"frmSearch.fecha_envio"}],staticClass:"form-control form-control-sm",attrs:{type:"date"},domProps:{value:t.frmSearch.fecha_envio},on:{input:function(e){e.target.composing||t.$set(t.frmSearch,"fecha_envio",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-12"},[e("input",{directives:[{name:"model",rawName:"v-model",value:t.frmSearch.keyword,expression:"frmSearch.keyword"}],staticClass:"form-control form-control-sm",attrs:{type:"text",placeholder:"Buscar por nombre, apellido, nro doc"},domProps:{value:t.frmSearch.keyword},on:{input:function(e){e.target.composing||t.$set(t.frmSearch,"keyword",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-12"},[e("button",{staticClass:"btn btn-primary btn-sm",on:{click:function(e){return t.search()}}},[e("i",{staticClass:"ti-search me-1"}),t._v("Buscar")])]),t._v(" "),e("div",{staticClass:"col-12"},[e("button",{staticClass:"btn btn-success btn-sm",on:{click:function(e){return t.openCreateModal()}}},[e("i",{staticClass:"ti-plus me-1"}),t._v("Registrar")])])]),t._v(" "),e("hr"),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-lg-12"},[e("div",{staticClass:"table-responsive bg-white"},[e("table",{staticClass:"table table-hover table-sm",attrs:{id:"order-listing"}},[t._m(0),t._v(" "),e("tbody",[t.loading?e("tr",[t._m(1)]):t._e(),t._v(" "),!t.loading&&t.rows.length<1?e("tr",[t._m(2)]):t._e(),t._v(" "),!t.loading&&t.rows.length>0?t._l(t.rows,(function(o,a){return e("tr",{key:a},[e("td",[t._v(t._s(a+1))]),t._v(" "),e("td",[e("div",{staticClass:"fw-bold"},[t._v(t._s(o.remitente_paternos)+" "+t._s(o.remitente_maternos)+", "+t._s(o.remitente_nombres))]),t._v(" "),e("div",[t._v("Doc: "+t._s(o.remitente_tidodoc.nombre)+" "+t._s(o.remitente_numero_documento))]),t._v(" "),e("div",[t._v("Telf: "+t._s(o.remitente_celular))])]),t._v(" "),e("td",[e("div",{staticClass:"fw-bold"},[t._v(t._s(o.consignado_paternos)+" "+t._s(o.consignado_maternos)+", "+t._s(o.consignado_nombres))]),t._v(" "),e("div",[t._v("Doc: "+t._s(o.consignado_tidodoc.nombre)+" "+t._s(o.consignado_numero_documento))]),t._v(" "),e("div",[t._v("Telf: "+t._s(o.consignado_celular))])]),t._v(" "),e("td",[t._v(t._s(o.sucursaldestino.nombre_comercial))]),t._v(" "),e("td",{staticClass:"text-center"},[t._v(t._s(o.fecha_envio))]),t._v(" "),e("td",{staticClass:"text-start"},[e("div",[t._v("Bus: "+t._s(o.itinerario.bus.placa))]),t._v(" "),e("div",[t._v("Partida: "+t._s(t._f("dateFormat")(o.itinerario.fecha_partida,"DD/MM/YY"))+" "+t._s(t._f("dateFormat")(o.itinerario.fecha_partida+" "+o.itinerario.hora_partida,"hh:mm a")))]),t._v(" "),e("div",[t._v("Llegada: "+t._s(t._f("dateFormat")(o.itinerario.fecha_llegada,"DD/MM/YY"))+" "+t._s(t._f("dateFormat")(o.itinerario.fecha_llegada+" "+o.itinerario.hora_llegada,"hh:mm a")))])]),t._v(" "),e("td",{staticClass:"text-end"},[t._v(t._s(o.totalgravada))]),t._v(" "),e("td",{staticClass:"text-end"},[t._v(t._s(o.totaligv))]),t._v(" "),e("td",{staticClass:"text-end"},[t._v(t._s(o.totalventa))]),t._v(" "),e("td",{staticClass:"text-center"},[o.estado?e("button",{staticClass:"btn btn-outline-success btn-sm align-middle text-center"},[t._v("Activo")]):t._e(),t._v(" "),o.estado?t._e():e("button",{staticClass:"btn btn-outline-danger btn-sm align-middle text-center"},[t._v("Inactivo")])]),t._v(" "),e("td",[1==o.estado?e("a",{staticClass:"label text-primary action-edit me-1",staticStyle:{"text-decoration":"none"},attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.openEditModal(o)}}},[e("i",{staticClass:"ti-pencil"})]):t._e(),t._v(" "),1==o.estado?e("a",{staticClass:"label text-danger action-delete me-1",staticStyle:{"text-decoration":"none"},attrs:{href:"javascript:void(0)"},on:{click:function(e){return t.openDeleteModal(o)}}},[e("i",{staticClass:"ti-close"})]):t._e()])])})):t._e()],2)])])])])])]),t._v(" "),e("div",{staticClass:"modal fade",attrs:{id:"modal-encomienda-form",tabindex:"-1",role:"dialog","aria-labelledby":"encomiendaModalLabel","aria-hidden":"true"}},[e("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[e("div",{staticClass:"modal-content"},[e("form",{on:{submit:function(e){return e.preventDefault(),t.save()}}},[t._m(3),t._v(" "),e("div",{staticClass:"modal-body"},[e("h5",{staticClass:"card-description"},[t._v("Datos del Remitente")]),t._v(" "),e("div",{staticClass:"row mb-4"},[e("div",{staticClass:"col-lg-2"},[e("label",[t._v("Tipo Doc.")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.frmEncomienda.remitente_tipo_documento,expression:"frmEncomienda.remitente_tipo_documento"}],staticClass:"form-control form-control-sm",attrs:{name:"tipo"},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.frmEncomienda,"remitente_tipo_documento",e.target.multiple?o:o[0])}}},[e("option",{attrs:{value:"0"}},[t._v("Seleccione...")]),t._v(" "),t._l(t.tipodocumentos,(function(o){return e("option",{key:"tipodocs1_"+o.id,domProps:{value:o.id}},[t._v(t._s(o.nombre))])}))],2)]),t._v(" "),e("div",{staticClass:"col-lg-2"},[e("label",[t._v("Nro.")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.frmEncomienda.remitente_numero_documento,expression:"frmEncomienda.remitente_numero_documento"}],staticClass:"form-control form-control-sm",attrs:{type:"text"},domProps:{value:t.frmEncomienda.remitente_numero_documento},on:{blur:function(e){return t.getPersonaData("remitente")},input:function(e){e.target.composing||t.$set(t.frmEncomienda,"remitente_numero_documento",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-lg-2"},[e("label",[t._v("Nombres")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.frmEncomienda.remitente_nombres,expression:"frmEncomienda.remitente_nombres"}],staticClass:"form-control form-control-sm",attrs:{type:"text"},domProps:{value:t.frmEncomienda.remitente_nombres},on:{input:function(e){e.target.composing||t.$set(t.frmEncomienda,"remitente_nombres",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-lg-2"},[e("label",[t._v("Paterno")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.frmEncomienda.remitente_paternos,expression:"frmEncomienda.remitente_paternos"}],staticClass:"form-control form-control-sm",attrs:{type:"text"},domProps:{value:t.frmEncomienda.remitente_paternos},on:{input:function(e){e.target.composing||t.$set(t.frmEncomienda,"remitente_paternos",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-lg-2"},[e("label",[t._v("Materno")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.frmEncomienda.remitente_maternos,expression:"frmEncomienda.remitente_maternos"}],staticClass:"form-control form-control-sm",attrs:{type:"text"},domProps:{value:t.frmEncomienda.remitente_maternos},on:{input:function(e){e.target.composing||t.$set(t.frmEncomienda,"remitente_maternos",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-lg-2"},[e("label",[t._v("Teléfono/Celular")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.frmEncomienda.remitente_celular,expression:"frmEncomienda.remitente_celular"}],staticClass:"form-control form-control-sm",attrs:{type:"text"},domProps:{value:t.frmEncomienda.remitente_celular},on:{input:function(e){e.target.composing||t.$set(t.frmEncomienda,"remitente_celular",e.target.value)}}})])]),t._v(" "),e("h5",{staticClass:"card-description"},[t._v("Datos del Consignado")]),t._v(" "),e("div",{staticClass:"row mb-4"},[e("div",{staticClass:"col-lg-2"},[e("label",[t._v("Tipo Doc.")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.frmEncomienda.consignado_tipo_documento,expression:"frmEncomienda.consignado_tipo_documento"}],staticClass:"form-control form-control-sm",attrs:{name:"tipo"},on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.frmEncomienda,"consignado_tipo_documento",e.target.multiple?o:o[0])}}},[e("option",{attrs:{value:"0"}},[t._v("Seleccione...")]),t._v(" "),t._l(t.tipodocumentos,(function(o){return e("option",{key:"tipodocs2_"+o.id,domProps:{value:o.id}},[t._v(t._s(o.nombre))])}))],2)]),t._v(" "),e("div",{staticClass:"col-lg-2"},[e("label",[t._v("Nro.")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.frmEncomienda.consignado_numero_documento,expression:"frmEncomienda.consignado_numero_documento"}],staticClass:"form-control form-control-sm",attrs:{type:"text"},domProps:{value:t.frmEncomienda.consignado_numero_documento},on:{blur:function(e){return t.getPersonaData("consignado")},input:function(e){e.target.composing||t.$set(t.frmEncomienda,"consignado_numero_documento",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-lg-2"},[e("label",[t._v("Nombres")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.frmEncomienda.consignado_nombres,expression:"frmEncomienda.consignado_nombres"}],staticClass:"form-control form-control-sm",attrs:{type:"text"},domProps:{value:t.frmEncomienda.consignado_nombres},on:{input:function(e){e.target.composing||t.$set(t.frmEncomienda,"consignado_nombres",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-lg-2"},[e("label",[t._v("Paterno")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.frmEncomienda.consignado_paternos,expression:"frmEncomienda.consignado_paternos"}],staticClass:"form-control form-control-sm",attrs:{type:"text"},domProps:{value:t.frmEncomienda.consignado_paternos},on:{input:function(e){e.target.composing||t.$set(t.frmEncomienda,"consignado_paternos",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-lg-2"},[e("label",[t._v("Materno")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.frmEncomienda.consignado_maternos,expression:"frmEncomienda.consignado_maternos"}],staticClass:"form-control form-control-sm",attrs:{type:"text"},domProps:{value:t.frmEncomienda.consignado_maternos},on:{input:function(e){e.target.composing||t.$set(t.frmEncomienda,"consignado_maternos",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-lg-2"},[e("label",[t._v("Teléfono/Celular")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.frmEncomienda.consignado_celular,expression:"frmEncomienda.consignado_celular"}],staticClass:"form-control form-control-sm",attrs:{type:"text"},domProps:{value:t.frmEncomienda.consignado_celular},on:{input:function(e){e.target.composing||t.$set(t.frmEncomienda,"consignado_celular",e.target.value)}}})])]),t._v(" "),e("h5",{staticClass:"card-description"},[t._v("Datos de la Encomienda")]),t._v(" "),e("div",{staticClass:"row mb-4",attrs:{id:""}},[e("div",{staticClass:"col-lg-2"},[e("label",{attrs:{for:""}},[t._v("Sucursal Destino")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.frmEncomienda.sucursal_destino,expression:"frmEncomienda.sucursal_destino"}],staticClass:"form-control form-control-sm",on:{change:[function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.frmEncomienda,"sucursal_destino",e.target.multiple?o:o[0])},function(e){return t.obtenerItinerarios()}]}},[e("option",{attrs:{value:"0"}},[t._v("Seleccione...")]),t._v(" "),t._l(t.sucursales,(function(o){return e("option",{key:"slcsuc_"+o.id,domProps:{value:o.id}},[t._v(t._s(o.nombre_comercial))])}))],2)]),t._v(" "),e("div",{staticClass:"col-lg-2"},[e("label",{attrs:{for:""}},[t._v("Fecha de envio")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.frmEncomienda.fecha_envio,expression:"frmEncomienda.fecha_envio"}],staticClass:"form-control form-control-sm",attrs:{type:"date"},domProps:{value:t.frmEncomienda.fecha_envio},on:{change:function(e){return t.obtenerItinerarios()},input:function(e){e.target.composing||t.$set(t.frmEncomienda,"fecha_envio",e.target.value)}}})]),t._v(" "),e("div",{staticClass:"col-lg-6"},[e("label",{attrs:{for:""}},[t._v("Itinerario")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.frmEncomienda.itinerario_id,expression:"frmEncomienda.itinerario_id"}],staticClass:"form-control form-control-sm",on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.frmEncomienda,"itinerario_id",e.target.multiple?o:o[0])}}},[e("option",{attrs:{value:"0"}},[t._v("Seleccione...")]),t._v(" "),t._l(t.itinerarios,(function(o){return e("option",{key:"slciti_"+o.id,domProps:{value:o.id}},[t._v(t._s(o.bus.placa)+" "+t._s(o.origen.abrev)+"-"+t._s(o.destino.abrev)+": "+t._s(t._f("dateFormat")(o.fecha_partida,"DD/MM/YY"))+" "+t._s(t._f("dateFormat")("1970-01-01 "+o.hora_partida,"HH:mm a"))+" - "+t._s(t._f("dateFormat")(o.fecha_llegada,"DD/MM/YY"))+" "+t._s(t._f("dateFormat")("1970-01-01 "+o.hora_llegada,"hh:mm a")))])}))],2)]),t._v(" "),e("div",{staticClass:"col-lg-2"},[e("label",{attrs:{for:""}},[t._v("Encomienda contraseña")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.frmEncomienda.contrasenia,expression:"frmEncomienda.contrasenia"}],staticClass:"form-control form-control-sm",attrs:{type:"text"},domProps:{value:t.frmEncomienda.contrasenia},on:{input:function(e){e.target.composing||t.$set(t.frmEncomienda,"contrasenia",e.target.value)}}})])]),t._v(" "),e("div",{staticClass:"row mb-4"},[e("div",{staticClass:"col-lg-2"},[e("label",{attrs:{for:""}},[t._v("Forma de pago")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.frmEncomienda.forma_pago,expression:"frmEncomienda.forma_pago"}],staticClass:"form-control form-control-sm",on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.frmEncomienda,"forma_pago",e.target.multiple?o:o[0])}}},[e("option",{attrs:{value:"0"}},[t._v("Seleccione...")]),t._v(" "),e("option",{attrs:{value:"efectivo"}},[t._v("Efectivo")])])]),t._v(" "),e("div",{staticClass:"col-lg-2"},[e("label",{attrs:{for:""}},[t._v("Comprobante")]),t._v(" "),e("select",{directives:[{name:"model",rawName:"v-model",value:t.frmEncomienda.comprobante,expression:"frmEncomienda.comprobante"}],staticClass:"form-control form-control-sm",on:{change:function(e){var o=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.$set(t.frmEncomienda,"comprobante",e.target.multiple?o:o[0])}}},[e("option",{attrs:{value:"BOLETA"}},[t._v("Boleta")]),t._v(" "),e("option",{attrs:{value:"FACTURA"}},[t._v("Factura")])])]),t._v(" "),e("div",{staticClass:"col-lg-2"},[e("label",{attrs:{for:""}},[t._v("Correlativo")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.frmEncomienda.correlativo,expression:"frmEncomienda.correlativo"}],staticClass:"form-control form-control-sm",attrs:{type:"text",readonly:""},domProps:{value:t.frmEncomienda.correlativo},on:{input:function(e){e.target.composing||t.$set(t.frmEncomienda,"correlativo",e.target.value)}}})])]),t._v(" "),e("h5",{staticClass:"card-description"},[t._v("Detalle de la Encomienda")]),t._v(" "),e("table",{staticClass:"table"},[t._m(4),t._v(" "),e("tbody",[t._l(t.detalle,(function(o,a){return e("tr",{key:"det_"+a},[e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:o.cantidad,expression:"d.cantidad"}],staticClass:"form-control form-control-sm",attrs:{type:"number"},domProps:{value:o.cantidad},on:{input:function(e){e.target.composing||t.$set(o,"cantidad",e.target.value)}}})]),t._v(" "),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:o.descripcion,expression:"d.descripcion"}],staticClass:"form-control form-control-sm",attrs:{type:"text"},domProps:{value:o.descripcion},on:{input:function(e){e.target.composing||t.$set(o,"descripcion",e.target.value)}}})]),t._v(" "),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:o.peso,expression:"d.peso"}],staticClass:"form-control form-control-sm",attrs:{type:"text"},domProps:{value:o.peso},on:{input:function(e){e.target.composing||t.$set(o,"peso",e.target.value)}}})]),t._v(" "),e("td",[e("input",{directives:[{name:"model",rawName:"v-model",value:o.precio,expression:"d.precio"}],staticClass:"form-control form-control-sm",attrs:{type:"text"},domProps:{value:o.precio},on:{input:function(e){e.target.composing||t.$set(o,"precio",e.target.value)}}})]),t._v(" "),e("td",[e("div",{staticClass:"btn-group",attrs:{role:"group"}},[e("button",{staticClass:"btn btn-success btn-sm",attrs:{type:"button"},on:{click:function(e){return t.addItem(a)}}},[e("i",{staticClass:"ti ti-plus"})]),t._v(" "),e("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:function(e){return t.removeItem(a)}}},[e("i",{staticClass:"ti ti-trash"})])])])])})),t._v(" "),e("tr",[e("td",{staticClass:"text-end",attrs:{colspan:"3"}},[t._v("OP. GRAVADA")]),t._v(" "),e("td",[t._v(t._s(t.gravada))]),t._v(" "),e("td")]),t._v(" "),e("tr",[e("td",{staticClass:"text-end",attrs:{colspan:"3"}},[t._v("IGV")]),t._v(" "),e("td",[t._v(t._s(t.igv))]),t._v(" "),e("td")]),t._v(" "),e("tr",[e("td",{staticClass:"text-end",attrs:{colspan:"3"}},[t._v("TOTAL")]),t._v(" "),e("td",[t._v(t._s(t.total))]),t._v(" "),e("td")])],2)])]),t._v(" "),t._m(5)])])])])])}),[function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",{staticClass:"text-center align-middle"},[t._v("#")]),t._v(" "),e("th",{staticClass:"text-center align-middle"},[t._v("REMITENTE")]),t._v(" "),e("th",{staticClass:"text-center align-middle"},[t._v("CONSIGNADO")]),t._v(" "),e("th",{staticClass:"text-center align-middle"},[t._v("DESTINO")]),t._v(" "),e("th",{staticClass:"text-center align-middle"},[t._v("FECHA ENVIO")]),t._v(" "),e("th",{staticClass:"text-center align-middle"},[t._v("ITINERARIO")]),t._v(" "),e("th",{staticClass:"text-center align-middle"},[t._v("GRAVADO")]),t._v(" "),e("th",{staticClass:"text-center align-middle"},[t._v("IGV")]),t._v(" "),e("th",{staticClass:"text-center align-middle"},[t._v("TOTAL")]),t._v(" "),e("th",{staticClass:"text-center align-middle"},[t._v("ESTADO")]),t._v(" "),e("th",{staticClass:"text-center align-middle"},[t._v("ACCIONES")])])])},function(){var t=this._self._c;return t("td",{staticClass:"text-center",attrs:{colspan:"10"}},[t("i",{staticClass:"fa fa-circle-o-notch fa-spin me-1"}),this._v(" Cargando información")])},function(){var t=this._self._c;return t("td",{staticClass:"text-center",attrs:{colspan:"10"}},[t("i",{staticClass:"fa fa-exclamation-circle me-1"}),this._v("No se registraron encomiendas")])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal-header p-3"},[e("h5",{staticClass:"modal-title",attrs:{id:"encomiendaModalLabel"}},[t._v("Registrar Encomienda")]),t._v(" "),e("button",{staticClass:"close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}},[e("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])},function(){var t=this,e=t._self._c;return e("thead",[e("tr",[e("th",[t._v("Cantidad")]),t._v(" "),e("th",[t._v("Descripción")]),t._v(" "),e("th",[t._v("Peso (Kg.)")]),t._v(" "),e("th",[t._v("Precio")]),t._v(" "),e("th",[t._v(" ")])])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"modal-footer p-3"},[e("button",{staticClass:"btn btn-success btn-sm",attrs:{type:"submit",id:"registrarEncomienda"}},[t._v("Registrar Encomienda")]),t._v(" "),e("button",{staticClass:"btn btn-light btn-sm",attrs:{type:"button","data-bs-dismiss":"modal"}},[t._v("Cancelar")])])}],!1,null,null,null).exports},1900:(t,e,o)=>{function a(t,e,o,a,n,r,i,s){var c,l="function"==typeof t?t.options:t;if(e&&(l.render=e,l.staticRenderFns=o,l._compiled=!0),a&&(l.functional=!0),r&&(l._scopeId="data-v-"+r),i?(c=function(t){(t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),n&&n.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(i)},l._ssrRegister=c):n&&(c=s?function(){n.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:n),c)if(l.functional){l._injectStyles=c;var m=l.render;l.render=function(t,e){return c.call(e),m(t,e)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:t,options:l}}o.d(e,{Z:()=>a})}},t=>{t.O(0,[598],(()=>{return e=1661,t(t.s=e);var e}));t.O()}]);